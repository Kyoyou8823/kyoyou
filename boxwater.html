<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Éú„ÉÉ„ÇØ„Çπ Ê∞¥ - „Éâ„É™„É≥„ÇØ„Éê„Éº„É´„Éº„É¨„ÉÉ„Éà</title>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Font -->
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: #e0f2fe;
            overflow-x: hidden;
        }

        /* ËÉåÊôØ„ÅÆÊ≥°„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: float 8s infinite ease-in-out;
            z-index: -1;
        }

        @keyframes float {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-10vh) scale(1); opacity: 0; }
        }

        /* „É´„Éº„É¨„ÉÉ„ÉàÂõûËª¢ÊôÇ„ÅÆ„Éñ„É©„ÉºÂäπÊûú */
        .blur-spin {
            filter: blur(2px);
            transition: filter 0.1s;
        }

        /* Ê±∫ÂÆöÊôÇ„ÅÆ„Éù„ÉÉ„Éó„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        .pop-in {
            animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes pop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // „Ç¢„Ç§„Ç≥„É≥„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÂÆöÁæ© (Lucide‰æùÂ≠ò„ÇíÊéíÈô§„Åó„ÄÅSVG„ÇíÁõ¥Êé•Ë®òËø∞„Åó„Å¶„Ç®„É©„Éº„ÇíÂõûÈÅø)
        const GlassWater = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M15.2 22H8.8a2 2 0 0 1-2-1.79L5 3h14l-1.81 17.21A2 2 0 0 1 15.2 22Z" />
                <path d="M6 12h12" />
            </svg>
        );

        const Shuffle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M21 16v5h-5" />
                <path d="M21 3v5h-5" />
                <path d="M3 21l8-8" />
                <path d="M3 3l18 18" />
            </svg>
        );

        const History = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" />
                <path d="M3 3v5h5" />
                <path d="M12 7v5l4 2" />
            </svg>
        );

        const CupSoda = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m7 7 1.75 12.25a2.75 2.75 0 0 0 2.75 2.75h5.5a2.75 2.75 0 0 0 2.75-2.75L21.5 7" />
                <path d="M5 7h16" />
                <path d="M12 5V2" />
                <path d="m14 7-2-5" />
            </svg>
        );

        // „Éâ„É™„É≥„ÇØ„ÅÆ„É™„Çπ„Éà
        const DRINK_LIST = [
            { name: "„Ç≥„Éº„É©", color: "text-red-600", icon: "ü•§" },
            { name: "„É°„É≠„É≥„ÇΩ„Éº„ÉÄ", color: "text-green-500", icon: "üçà" },
            { name: "„Ç™„É¨„É≥„Ç∏„Ç∏„É•„Éº„Çπ", color: "text-orange-500", icon: "üçä" },
            { name: "„Ç∏„É≥„Ç∏„É£„Éº„Ç®„Éº„É´", color: "text-yellow-600", icon: "ü•É" },
            { name: "„Ç¢„Ç§„Çπ„Ç≥„Éº„Éí„Éº", color: "text-amber-900", icon: "‚òï" },
            { name: "„Ç¶„Éº„É≠„É≥Ëå∂", color: "text-amber-700", icon: "üçµ" },
            { name: "„Ç´„É´„Éî„Çπ", color: "text-blue-400", icon: "‚ö™" },
            { name: "„É¨„É¢„É≥„Çπ„Ç´„ÉÉ„Ç∑„É•", color: "text-yellow-400", icon: "üçã" },
            { name: "„Ç¢„Ç§„Çπ„ÉÜ„Ç£„Éº", color: "text-red-400", icon: "ü´ñ" },
            { name: "ÈáéËèú„Ç∏„É•„Éº„Çπ", color: "text-orange-600", icon: "ü•ï" },
            { name: "ÁÇ≠ÈÖ∏Ê∞¥", color: "text-cyan-400", icon: "ü´ß" },
            { name: "Ê∞¥", color: "text-blue-500", icon: "üíß" },
            { name: "„Éõ„ÉØ„Ç§„Éà„Ç¶„Ç©„Éº„Çø„Éº", color: "text-blue-300", icon: "‚¨ú" },
            { name: "„Éü„ÉÉ„ÇØ„Çπ„Ç∏„É•„Éº„Çπ", color: "text-pink-400", icon: "üçπ" }
        ];

        const App = () => {
            const [currentDrink, setCurrentDrink] = useState({ name: "???", color: "text-gray-400", icon: "‚ùì" });
            const [isSpinning, setIsSpinning] = useState(false);
            const [history, setHistory] = useState([]);
            const [message, setMessage] = useState("„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶„Éâ„É™„É≥„ÇØ„ÇíÊ±∫„ÇÅ„Çà„ÅÜÔºÅ");
            
            // ËÉåÊôØ„ÅÆÊ≥°„ÇíÁîüÊàê
            useEffect(() => {
                const createBubble = () => {
                    const bubble = document.createElement('div');
                    bubble.classList.add('bubble');
                    const size = Math.random() * 60 + 20;
                    bubble.style.width = `${size}px`;
                    bubble.style.height = `${size}px`;
                    bubble.style.left = `${Math.random() * 100}vw`;
                    bubble.style.animationDuration = `${Math.random() * 5 + 5}s`;
                    document.body.appendChild(bubble);

                    setTimeout(() => {
                        bubble.remove();
                    }, 10000);
                };

                const interval = setInterval(createBubble, 1000);
                return () => clearInterval(interval);
            }, []);

            // „É´„Éº„É¨„ÉÉ„Éà„É≠„Ç∏„ÉÉ„ÇØ
            const startRoulette = () => {
                if (isSpinning) return;
                
                setIsSpinning(true);
                setMessage("ÊäΩÈÅ∏‰∏≠...");
                
                let speed = 50; // ÂàùÊúüÈÄüÂ∫¶ (ms)
                let counter = 0;
                const minSpins = 20; // ÊúÄ‰ΩéÂõûËª¢Êï∞
                const randomExtraSpins = Math.floor(Math.random() * 15); // „É©„É≥„ÉÄ„É†ËøΩÂä†ÂõûËª¢
                const totalSpins = minSpins + randomExtraSpins;

                const spinLoop = () => {
                    // „É©„É≥„ÉÄ„É†„Å´„Éâ„É™„É≥„ÇØ„ÇíË°®Á§∫
                    const randomIndex = Math.floor(Math.random() * DRINK_LIST.length);
                    const selected = DRINK_LIST[randomIndex];
                    setCurrentDrink(selected);
                    
                    counter++;

                    if (counter < totalSpins) {
                        // ÁµÇÁõ§„Å´„Åã„Åë„Å¶Â∞ë„Åó„Åö„Å§ÈÅÖ„Åè„Åô„Çã
                        if (counter > totalSpins - 8) {
                            speed *= 1.2;
                        }
                        setTimeout(spinLoop, speed);
                    } else {
                        // Ê±∫ÂÆö
                        finishSpin(selected);
                    }
                };

                spinLoop();
            };

            const finishSpin = (selected) => {
                setIsSpinning(false);
                setMessage(`„Äå${selected.name}„Äç„Å´Ê±∫ÂÆöÔºÅ`);
                setHistory(prev => [selected, ...prev].slice(0, 5)); // ÊúÄÊñ∞5‰ª∂„Çí‰øùÂ≠ò
            };

            return (
                <div className="min-h-screen flex flex-col items-center justify-center p-4 relative z-10">
                    
                    {/* „Éò„ÉÉ„ÉÄ„Éº„É≠„Ç¥ */}
                    <header className="mb-8 text-center bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg border border-blue-100">
                        <div className="flex items-center justify-center gap-2 mb-1">
                            <div className="bg-blue-500 p-2 rounded-lg text-white">
                                <GlassWater size={32} />
                            </div>
                            <h1 className="text-3xl font-bold text-blue-900 tracking-wider">„Éú„ÉÉ„ÇØ„Çπ Ê∞¥</h1>
                        </div>
                        <p className="text-blue-500 text-sm font-bold">DRINK BAR ROULETTE</p>
                    </header>

                    {/* „É°„Ç§„É≥„Éú„ÉÉ„ÇØ„Çπ */}
                    <main className="w-full max-w-md">
                        <div className="bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border-4 border-blue-200 text-center transform transition-all">
                            
                            {/* ÁµêÊûúË°®Á§∫„Ç®„É™„Ç¢ */}
                            <div className="mb-8 relative">
                                <div className="absolute top-0 left-0 w-full h-full bg-blue-50 rounded-2xl opacity-50 z-0"></div>
                                <div className={`relative z-10 py-12 px-4 rounded-2xl border-2 border-blue-100 bg-gradient-to-b from-white to-blue-50 ${isSpinning ? 'blur-spin' : 'pop-in'}`}>
                                    <div className="text-6xl mb-4 animate-bounce-slow">
                                        {currentDrink.icon}
                                    </div>
                                    <h2 className={`text-4xl font-bold break-words leading-tight ${currentDrink.color}`}>
                                        {currentDrink.name}
                                    </h2>
                                </div>
                            </div>

                            {/* „É°„ÉÉ„Çª„Éº„Ç∏ */}
                            <p className="text-slate-500 mb-6 font-medium h-6">
                                {message}
                            </p>

                            {/* „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ */}
                            <button
                                onClick={startRoulette}
                                disabled={isSpinning}
                                className={`
                                    w-full py-5 rounded-xl text-xl font-bold shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-3
                                    ${isSpinning 
                                        ? 'bg-gray-300 text-gray-500 cursor-not-allowed' 
                                        : 'bg-gradient-to-r from-cyan-500 to-blue-600 text-white hover:shadow-cyan-200/50 hover:-translate-y-1'
                                    }
                                `}
                            >
                                {isSpinning ? (
                                    <>
                                        <Shuffle className="animate-spin" />
                                        ÈÅ∏„Çì„Åß„ÅÑ„Åæ„Åô...
                                    </>
                                ) : (
                                    <>
                                        <CupSoda />
                                        „Éâ„É™„É≥„ÇØ„ÇíÊ±∫„ÇÅ„ÇãÔºÅ
                                    </>
                                )}
                            </button>
                        </div>

                        {/* Â±•Ê≠¥„Ç®„É™„Ç¢ */}
                        {history.length > 0 && (
                            <div className="mt-8 bg-white/60 backdrop-blur-md rounded-2xl p-4 shadow-md">
                                <div className="flex items-center gap-2 mb-3 text-blue-800 px-2">
                                    <History size={18} />
                                    <span className="font-bold text-sm">„Åì„Çå„Åæ„Åß„ÅÆ„Éâ„É™„É≥„ÇØ</span>
                                </div>
                                <div className="flex gap-2 overflow-x-auto pb-2 px-1 scrollbar-hide">
                                    {history.map((drink, index) => (
                                        <div key={index} className="flex-shrink-0 bg-white p-3 rounded-xl shadow-sm border border-blue-50 flex flex-col items-center w-24">
                                            <span className="text-2xl mb-1">{drink.icon}</span>
                                            <span className="text-xs font-bold text-gray-600 truncate w-full text-center">{drink.name}</span>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </main>

                    {/* „Éï„ÉÉ„Çø„Éº */}
                    <footer className="mt-12 text-blue-900/40 text-xs font-bold">
                        ¬© Box Water Roulette
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
